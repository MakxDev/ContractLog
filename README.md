# ContractLog

Условия договора, описанные в файле ContractLogMain.pl:

Поставщик поставляет Заказчику Товар за плату (цена товара).
Дата заключения договора 18.11.16 г.
Дата окончания договора 31.12.16 г.
Срок поставки до 25.11.16 г.
Ответственность за просрочку поставки штраф - 10% годовых от цены товара за каждый день просрочки (т.е. (38 млн/100*10)/365*количество дней просрочки).
Цена товара 38 143 437, 50 коп.
Товар Доставляется в место Поставки.
К Товару приложен акт приемки-передачи, датированный датой Доставки.
Товар считается принятым с даты подписания Заказчиком акта.
С этой даты Поставка считается осуществленной.
Оплата должна быть осуществлена в течение 30 дней с даты подписания Заказчиком акта.
Товар Доставлен:
На сумму 37 380 568, 75 рублей – 20.12.2016 г.;
На сумму 762 868, 75 рублей – 26.01.2017 г.
Акты подписаны Заказчиком, т.е. товар Поставлен:
На сумму 37 380 568, 75 рублей – 30.12.2016;
На сумму 762 868, 75 рублей – 07.02.2017.
Даты платежа: 30.12.2016, 27.10.2017.

Проверки:

0. В файле описан договор с № '1' (строка) с этапами №№1 и 2 (числа).
   Параметры договора и его этапов задаются в виде предикатов, в комментриях обозначены как "Зададим ..."

1. Проверим, что сумма этапов равна сумме договора:
``` Prolog
?- validate_contract_sum('1').
true.
```

2. Проверим, что дата завершения любого этапа меньше даты завершения договора
```
?- validate_contract_dates('1').
true.
```

3. Получим дату и сумму подписанного акта по этапу:
```
?- contract_stage_delivery_act('1', 1, Date, Sum).
Date = ...
Sum = ...
```

4. Вычислим количество дней просрочки поставки по этапу:
```
?- calculate_delivery_delay('1', 1, Days).
Days = ...

?- calculate_delivery_delay('1', 2, Days).
Days = ...
```

5. Вычислим количество дней просрочки платежа по этапу:
```
?- calculate_payment_delay('1', 1, Days).
Days = ...

?- calculate_payment_delay('1', 2, Days).
Days = ...
```

6. Вычислим штраф за задержку поставки по этапу:
```
?- calulate_delivery_fine('1', 1, Fine).
Fine = ...
```

7. Вычислим штраф за задержку оплаты по этапу:
```
?- calulate_payment_fine('1', 1, Fine).
Fine = ...

?- calulate_payment_fine('1', 2, Fine).
Fine = ...
```

8. Вычислим дату исковой давности по поставке:
```
?- get_contract_statute_of_delivery('1', Date).
Date = ...
```

9. Проверим что срок исковой давности по поставке не вышел
```
?- is_contract_in_statute_of_delivery('1').
false.
```

10. Вычислим дату исковой давности по оплате:
```
?- get_contract_statute_of_payment('1', Date).
Date = ...
```

11. Проверим что срок исковой давности по оплате не вышел
```
?- is_contract_in_statute_of_payment('1').
true.
```
